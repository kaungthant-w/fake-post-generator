<?php ob_start(); /* Plugin Name: Fake Post Generator Description: A plugin to generate fake posts with Japanese or English text. Version: 1.1 Author: Kyaw Myo Thant Tags: <?php echo site_url('/wp-admin/admin.php?page=fake-post-generator'); ?> Text Domain: fake-post-generator */ add_filter('plugin_row_meta','add_view_details_link',10,2); function add_view_details_link($links,$file){if($file==plugin_basename(__FILE__)){$links[]='<a href="'.admin_url('admin.php?page=fake-post-generator').'">Go to Generator</a>';}return $links;} function fake_post_generator_styles($hook){if($hook!='toplevel_page_fake-post-generator'){return;}wp_enqueue_style('fake-post-generator-styles',plugin_dir_url(__FILE__).'style.css');} add_action('admin_enqueue_scripts','fake_post_generator_styles'); register_activation_hook(__FILE__,'generate_fake_posts_on_activation'); function generate_fake_posts_on_activation(){generate_fake_posts(30,3,5,15,'jp');} function generate_random_paragraph($min_words=5,$max_words=15,$language='jp'){$word_list=explode(' ',$language=='jp'?'これは日本語のダミーテキストです。適当に日本語の単語を並べています。文章の内容には特に意味はありません。ランダムな日本語の単語を使って文章を生成します。':'This is a dummy text in English. Random English words are arranged. The content of the sentence does not have any particular meaning. Sentences are generated using random English words.');$word_count=rand($min_words,$max_words);$paragraph=array();for($i=0;$i<$word_count;$i++){$paragraph[]=$word_list[array_rand($word_list)];}return implode(' ',$paragraph);} function generate_multiple_paragraphs($num_paragraphs=3,$min_words=5,$max_words=15,$language='jp'){$content='';for($i=0;$i<$num_paragraphs;$i++){$content.='<p>'.generate_random_paragraph($min_words,$max_words,$language).'</p>';}return $content;} function generate_fake_posts($num_posts,$num_paragraphs,$min_words,$max_words,$language){for($i=1;$i<=$num_posts;$i++){$post_content=generate_multiple_paragraphs($num_paragraphs,$min_words,$max_words,$language);$post_data=array('post_title'=>($language=='jp'?'フェイクポストタイトル ':'Fake Post Title ').$i,'post_content'=>$post_content,'post_status'=>'publish','post_author'=>1,'post_category'=>array(rand(1,3)),'tags_input'=>array('タグ1','タグ2','タグ3'));wp_insert_post($post_data);}} function delete_all_posts(){$all_posts=get_posts(array('numberposts'=>-1,'post_type'=>'post','post_status'=>'any'));foreach($all_posts as $post){wp_delete_post($post->ID,true);}} function fake_post_generator_admin_notice(){if(get_option('fake_posts_generated')){?><div class="notice notice-success is-dismissible"><p><?php _e('フェイクポストが正常に作成されました！','fake-post-generator'); ?></p></div><?php delete_option('fake_posts_generated');}} add_action('admin_notices','fake_post_generator_admin_notice'); add_action('admin_menu','fake_post_generator_menu'); function fake_post_generator_menu(){add_menu_page('Fake Post Generator','Fake Post Generator','manage_options','fake-post-generator','fake_post_generator_page','dashicons-edit',6);} function fake_post_generator_page(){if(isset($_POST['generate_posts'])){check_admin_referer('generate_fake_posts_action');$num_posts=intval($_POST['num_posts']);$num_paragraphs=intval($_POST['num_paragraphs']);$min_words=intval($_POST['min_words']);$max_words=intval($_POST['max_words']);$language=$_POST['language']=='eng'?'eng':'jp';generate_fake_posts($num_posts,$num_paragraphs,$min_words,$max_words,$language);update_option('fake_posts_generated',true);wp_redirect(admin_url('admin.php?page=fake-post-generator'));exit;}if(isset($_POST['delete_posts'])){check_admin_referer('generate_fake_posts_action');delete_all_posts();wp_redirect(admin_url('admin.php?page=fake-post-generator'));exit;} ?><div class="wrap"><h1>Fake Post Generator</h1><form method="post"><?php wp_nonce_field('generate_fake_posts_action'); ?><div class="formGroupInput"><div class="inputBlock"><input type="radio" id="jpText" name="language" value="jp" checked/><label for="jpText"> 日本語 (Japanese)</label></div><div class="inputBlock"><input type="radio" id="engText" name="language" value="eng"/><label for="engText"> 英語 (English)</label></div></div><div class="formGroup"><label for="num_posts">生成する投稿数 (Number of posts):</label><input type="number" id="num_posts" name="num_posts" value="30" min="1" /></div><div class="formGroup"><label for="num_paragraphs">段落数 (Number of paragraphs):</label><input type="number" id="num_paragraphs" name="num_paragraphs" value="3" min="1" /></div><div class="formGroup"><label for="min_words">最小単語数 (Minimum number of words):</label><input type="number" id="min_words" name="min_words" value="5" min="1" /></div><div class="formGroup"><label for="max_words">最大単語数 (Maximum number of words):</label><input type="number" id="max_words" name="max_words" value="15" min="1" /></div><div class="formGroup"><input type="submit" name="generate_posts" class="button button-primary" value="Generate Posts"><input type="submit" name="delete_posts" class="button button-danger" value="Delete All Posts"></div></form></div><?php ob_end_flush(); }
